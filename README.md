# UniDoc - Система управления документацией

## Описание проекта
UniDoc - это система управления документами. Проект реализует функционал акцентом на управление документами, задачами и версиями.

## Основные сущности

- **Topic**  
    Обобщенная тематика для объединения проектов (например, отдел или команда).
- **Project**  
    Проект внутри рабочего пространства.
- **ProjectSettings**  
    Настройки проекта (шаблоны, параметры уведомлений).
- **Task**  
    Задача в рамках проекта.
- **TaskDetail**  
    Расширенное описание задачи (требования, критерии приёмки).
- **Subtask**  
    Подзадача, привязанная к конкретной задаче.
- **Comment**  
    Комментарий к задаче или подзадаче.
- **Document**  
    Документ, связанный с проектом или задачей.
- **DocumentVersion**  
    Версия документа (история изменений).
- **Template**  
    Шаблон для проектов или задач.

## Связи между сущностями

| Сущность A | Связь       | Сущность B      | Тип отношений |
| ---------- | ----------- | --------------- | ------------- |
| Topic      | содержит    | Project         | 1 : N         |
| Project    | принадлежит | Topic           | N : 1         |
| Project    | имеет       | ProjectSettings | 1 : 1         |
| Project    | включает    | Task            | 1 : N         |
| Task       | принадлежит | Project         | N : 1         |
| Task       | имеет       | TaskDetail      | 1 : 1         |
| Task       | включает    | Subtask         | 1 : N         |
| Subtask    | принадлежит | Task            | N : 1         |
| Task       | содержит    | Comment         | 1 : N         |
| Comment    | принадлежит | Task/Subtask    | N : 1         |
| Document   | принадлежит | Project/Task    | N : 1         |
| Document   | имеет       | DocumentVersion | 1 : N         |
| Template   | принадлежит | Topic           | N : 1         |

## Описание ключевых отношений

**One-to-One (1 : 1)**
- Project ↔ ProjectSettings: для каждого проекта один набор настроек.
- Task ↔ TaskDetail: детализированное описание хранится отдельно для оптимизации чтения/записи.

**One-to-Many (1 : N)**
- Topic → Project: в  тематике несколько проектов.
- Project → Task: в проекте много задач.
- Task → Subtask/Comment: задачи расширяются подзадачами и комментариями.
- Document → DocumentVersion: у документа хранится история версий.

**Many-to-One (N : 1)**

- Task → Project: каждая задача привязана к одному проекту.
- Subtask → Task: подзадача принадлежит одной задаче.
- Task → User: множество задач назначается одному ответственному.
- Document → Project/Task: документ может относиться к проекту или задаче.


## Технологии
- Django==5.0.1
- asgiref==3.8.1
- sqlparse==0.5.3
- djangorestframework==3.14.0
- django-filter==23.5
- drf-yasg==1.21.7
- djangorestframework-simplejwt==5.3.1
- django-cors-headers==4.3.1
- django-redis==5.4.0
- gunicorn==21.2.0
- whitenoise==6.6.0
- python-dotenv==1.0.0
- psycopg2-binary==2.9.9
- django-storages==1.14.2
- boto3==1.34.34
- pytest==8.0.2
- pytest-django==4.8.0
- coverage==7.3.2
- selenium==4.15.2
- factory-boy==3.3.0
- PostgreSQL (для production)
- Nginx + Gunicorn (для production)
- Swagger для документации API
- Django Filter для фильтрации

## Структура проекта
```
unidoc/
├── core/                 # Основное приложение
│   ├── models.py        # Модели данных
│   ├── serializers.py   # Сериализаторы для API
│   ├── views.py         # Представления API
│   ├── urls.py          # URL-маршруты API
│   ├── tests/           # Тесты
│   └── optimizations.py # Оптимизации
├── unidoc/              # Настройки проекта
│   ├── settings.py      # Настройки Django
│   ├── settings_prod.py # Настройки для production
│   └── urls.py          # Основные URL-маршруты
├── manage.py            # Скрипт управления Django
├── requirements.txt     # Зависимости проекта
└── DEPLOY.md           # Инструкции по деплою
```

## Реализованные функции

### API Endpoints
- Темы (Topics)
  - CRUD операции
  - Фильтрация по имени и описанию
  - Поиск по названию
  - Сортировка по дате создания
- Проекты (Projects)
  - CRUD операции
  - Фильтрация по теме и названию
  - Получение количества задач
  - Сортировка по приоритету
- Задачи (Tasks)
  - CRUD операции
  - Фильтрация по проекту, статусу и исполнителю
  - Получение просроченных задач
  - Сортировка по дедлайну
- Подзадачи (Subtasks)
  - CRUD операции
  - Фильтрация по задаче и статусу
  - Сортировка по приоритету
- Комментарии (Comments)
  - CRUD операции
  - Фильтрация по задаче и автору
  - Сортировка по дате создания
- Документы (Documents)
  - CRUD операции
  - Версионирование документов
  - Фильтрация по проекту и задаче
  - Сортировка по дате обновления
- Шаблоны (Templates)
  - CRUD операции
  - Фильтрация по теме
  - Сортировка по названию

### Тестирование
- Unit-тесты для моделей
- API тесты с использованием APITestCase
- Тесты аутентификации
- Тесты фильтрации и поиска
- Тесты пагинации
- Тесты оптимизаций

